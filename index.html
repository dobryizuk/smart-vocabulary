<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Vocabulary - Spaced Repetition Learning</title>
    <!-- Modular CSS -->
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/forms.css">
    <link rel="stylesheet" href="css/learning.css">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0F0F0F">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Smart Vocabulary">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="container">
        <div class="main-content">
            <!-- Add Words Tab -->
            <div class="tab-content active" id="add-tab">
                <div class="tab-content-inner">
                    <h3>Add New Word or Phrase</h3>
                    
                    <!-- Always visible: Original word input -->
                    <div class="form-group">
                        <label for="originalWord">Original Word/Phrase:</label>
                        <input type="text" class="form-control" id="originalWord" data-testid="original-word-input" placeholder="e.g., beautiful, break the ice">
                        <div id="formButtons" style="margin-top: 10px;">
                            <!-- Buttons will be inserted here by JavaScript -->
                        </div>
                    </div>

                    <!-- Dictionary results (always visible when shown) -->
                    <div id="dictionaryResults" class="translation-suggestion" style="display: none;">
                        <!-- Dictionary content will be inserted here by JavaScript -->
                    </div>

                    <!-- Collapsible additional fields -->
                    <div id="additionalFields" style="display: none;">
                        <div class="form-group">
                            <label for="translation">Translation:</label>
                            <input type="text" class="form-control" id="translation" placeholder="e.g., ÐºÑ€Ð°ÑÐ¸Ð²Ñ‹Ð¹, ÑÐ»Ð¾Ð¼Ð°Ñ‚ÑŒ Ð»ÐµÐ´">
                        </div>

                        <div class="form-group">
                            <label for="wordDefinition">Definition:</label>
                            <textarea class="form-control" id="wordDefinition" rows="2" placeholder="Word definition..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="wordPhonetic">Phonetic (pronunciation):</label>
                            <input type="text" class="form-control" id="wordPhonetic" placeholder="e.g., /ËˆbjuËtÉªfÊŠl/">
                        </div>

                        <div class="form-group">
                            <label for="wordSynonyms">Synonyms (comma-separated):</label>
                            <input type="text" class="form-control" id="wordSynonyms" placeholder="e.g., gorgeous, lovely, attractive">
                        </div>

                        <div class="form-group">
                            <label for="wordExamples">Examples (one per line):</label>
                            <textarea class="form-control" id="wordExamples" rows="3" placeholder="Example sentence 1&#10;Example sentence 2"></textarea>
                        </div>


                        <div id="saveButtons">
                            <!-- Save buttons will be inserted here by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Word List Tab -->
            <div class="tab-content" id="list-tab">
                <div class="tab-content-inner" style="padding: 0; display: flex; flex-direction: column;">
                    <div class="word-list-header">
                        <h3><span id="wordCount">0</span> words</h3>
                    </div>
                    <div class="word-list" id="wordList" data-testid="word-list">
                        <div class="empty-state">
                            <h3>No words yet!</h3>
                            <p>Add your first word in the "Add Words" tab</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Learning Tab -->
            <div class="tab-content" id="learn-tab">
                <div class="tab-content-inner">
                    <div id="learningContent">
                        <div class="empty-state">
                            <h3>Ready to learn?</h3>
                            <p>Add some words first, then come back to start learning!</p>
                            <button class="btn btn-primary" onclick="startLearning()">ðŸš€ Start New Session</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics Tab -->
            <div class="tab-content" id="stats-tab">
                <div class="tab-content-inner">
                    <h3>Learning Statistics</h3>
                    <div style="text-align: center; margin-bottom: 16px;">
                        <div id="audioControls">
                            <!-- Audio controls will be inserted here by JavaScript -->
                        </div>
                        <div id="audioSettingsText">
                            <!-- Audio settings text will be inserted here by JavaScript -->
                        </div>
                    </div>
                    <div id="dataManagement">
                        <!-- Data management content will be inserted here by JavaScript -->
                    </div>
                    <div class="stats" id="statsGrid">
                        <div class="stat-card">
                            <span class="stat-value" id="totalWordsCount">0</span>
                            <div class="stat-label">Total Words</div>
                        </div>
                        <div class="stat-card stat-card--success">
                            <span class="stat-value" id="learnedWordsCount">0</span>
                            <div class="stat-label">Well Known (75%+)</div>
                        </div>
                        <div class="stat-card stat-card--warning">
                            <span class="stat-value" id="inProgressWordsCount">0</span>
                            <div class="stat-label">In Progress (50-75%)</div>
                        </div>
                        <div class="stat-card stat-card--danger">
                            <span class="stat-value" id="difficultWordsCount">0</span>
                            <div class="stat-label">Difficult (<50%)</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="reviewWordsCount">0</span>
                            <div class="stat-label">Need Review</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="streakCount">0</span>
                            <div class="stat-label">Current Streak</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- iOS-style Bottom Tab Bar -->
    <div class="tab-nav" data-testid="tab-nav">
        <button class="tab-btn active" onclick="showTab('add')" data-testid="add-tab-btn">
            <div class="tab-icon">âž•</div>
            <div>Add</div>
        </button>
        <button class="tab-btn" onclick="showTab('list')" data-testid="list-tab-btn">
            <div class="tab-icon">ðŸ“‹</div>
            <div>My Words</div>
        </button>
        <button class="tab-btn" onclick="showTab('learn')" data-testid="learn-tab-btn">
            <div class="tab-icon">ðŸŽ“</div>
            <div>Learn</div>
        </button>
        <button class="tab-btn" onclick="showTab('stats')" data-testid="stats-tab-btn">
            <div class="tab-icon">ðŸ“Š</div>
            <div>Stats</div>
        </button>
    </div>

    <!-- Modular JavaScript -->
    <script src="js/app-state.js"></script>
    <script src="js/theme-manager.js"></script>
    <script src="js/data-manager.js"></script>
    <script src="js/ui-components.js"></script>
    <script src="js/dictionary-service.js"></script>
    <script src="js/spaced-repetition.js"></script>
    <script src="js/speech-manager.js"></script>
    <script src="js/import-export.js"></script>
    <script src="js/learning-session.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/app-main.js"></script>
    <script src="js/app-init.js"></script>
</body>
</html>